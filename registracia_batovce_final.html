<!doctype html>
<html lang="sk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Registračný formulár - Obec Bátovce</title>
  <meta name="description" content="Registračný formulár pre remeselníkov a predajcov - Obec Bátovce" />
  <style>
    :root{
      --glass-bg: rgba(255,255,255,0.95);
      --accent: #0b5ed7;
      --radius: 14px;
      --max-width: 760px;
      --gap: 14px;
    }

    *{box-sizing:border-box}

    html,body{
      height:100%;
      margin:0;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      color:#111;
      background-color:#0b0b0b;
    }

    /* Photographic dark background with artisanal / craft feeling (Unsplash) */
    body::before{
      content:"";
      position:fixed;
      inset:0;
      background-image: url('https://images.unsplash.com/photo-1519222970733-f546218fa6d7?auto=format&fit=crop&w=2000&q=80&ixlib=rb-4.0.3&s=9d7d3a9b7b6f265b8e4c9c3b3c2f1a8a');
      background-size:cover;
      background-position:center;
      filter:grayscale(10%) contrast(0.9) saturate(0.7) brightness(0.4);
      z-index:-2;
    }

    /* subtle vignette */
    body::after{
      content:"";
      position:fixed;
      inset:0;
      background: radial-gradient(ellipse at center, rgba(0,0,0,0.0) 40%, rgba(0,0,0,0.48) 100%);
      z-index:-1;
    }

    .page-wrap{
      min-height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:32px;
      gap:20px;
    }

    .container{
      width:100%;
      max-width:var(--max-width);
      background: var(--glass-bg);
      border-radius:var(--radius);
      padding:28px;
      box-shadow: 0 8px 30px rgba(2,8,23,0.45);
      position:relative;
      overflow:hidden;
      margin: 24px;
    }

    /* Logo in corner */
    .logo{
      position:absolute;
      top:18px;
      left:18px;
      width:96px;
      height:auto;
      border-radius:10px;
      background:rgba(255,255,255,0.85);
      padding:6px;
      box-shadow:0 4px 12px rgba(0,0,0,0.25);
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .logo img{width:100%; height:auto; display:block;}

    header h1{
      margin:0 0 4px 0;
      text-align:center;
      font-size:1.6rem;
      letter-spacing:0.2px;
    }
    header p{
      margin:0 0 18px 0;
      text-align:center;
      color:#444;
      font-size:0.95rem;
    }

    form{
      display:block;
    }

    .grid{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:var(--gap);
    }

    .full{ grid-column:1/-1; }

    label{
      font-size:0.9rem;
      color:#222;
      display:block;
      margin-bottom:6px;
      font-weight:600;
    }

    input[type="text"],
    input[type="email"],
    input[type="tel"],
    input[type="date"],
    select,
    textarea{
      width:100%;
      padding:10px 12px;
      border:1px solid #d6d6d6;
      border-radius:10px;
      font-size:1rem;
      background: #fff;
      color:#111;
      outline:none;
      transition: box-shadow .15s ease, border-color .15s ease;
    }

    input:focus, textarea:focus, select:focus{
      box-shadow:0 6px 18px rgba(11,94,215,0.12);
      border-color: rgba(11,94,215,0.8);
    }

    textarea{ min-height:84px; resize:vertical; }

    .checkbox-inline{ display:flex; align-items:center; gap:8px; font-weight:600; }

    .small-note{ font-size:0.84rem; color:#666; margin-top:6px; }

    .actions{
      display:flex;
      justify-content:center;
      gap:12px;
      margin-top:18px;
      align-items:center;
    }

    button.primary{
      background:var(--accent);
      color:#fff;
      border:none;
      padding:12px 20px;
      border-radius:10px;
      font-size:1rem;
      cursor:pointer;
      box-shadow: 0 8px 20px rgba(11,94,215,0.18);
    }
    button.primary:active{ transform:translateY(1px); }
    button.ghost{
      background:transparent;
      border:1px solid #ccc;
      padding:10px 14px;
      border-radius:10px;
      cursor:pointer;
    }

    /* Responsive */
    @media (max-width:820px){
      .grid{ grid-template-columns:1fr; }
      .logo{ left:12px; top:12px; width:80px; }
    }

    @media (max-width:420px){
      .container{ padding:20px; border-radius:12px; }
      header h1{ font-size:1.25rem; }
      .logo{ width:72px; }
    }

    /* helper */
    .hidden{ display:none !important; }
    .required-star{ color:#c0392b; margin-left:6px; font-weight:700; }

    /* small print */
    .disclaimer{ font-size:0.82rem; color:#555; margin-top:12px; }
  </style>
</head>
<body>
  <div class="page-wrap">
    <main class="container" role="main" aria-labelledby="form-title">
      <div class="logo" aria-hidden="true">
        <!-- Using the municipality's existing emblem; you may replace this with a local high-res PNG/SVG -->
        <img src="https://www.batovce.sk/design/images/erb.svg?v=11" alt="Erb obce Bátovce">
      </div>

      <header>
        <h1 id="form-title">Registračný formulár — Obec Bátovce</h1>
        <p>Pre remeselníkov a predajcov — vyplňte prosím údaje nižšie</p>
      </header>

      <!-- NOTE: If you want submissions to go to your own email via Formspree, create a Formspree form and replace the action URL below with your form's endpoint. -->
      <form id="registrationForm" action="https://formspree.io/f/mvgwwrrl" method="POST" novalidate>
        <!-- keep the original fields and logic intact; organized into a responsive grid -->
        <div class="grid">
          <div class="full">
            <label for="role">Som <span class="required-star" aria-hidden="true">*</span></label>
            <select id="role" name="role" required aria-required="true">
              <option value="">-- vyberte --</option>
              <option value="remeselnik">Remeselník</option>
              <option value="predajca">Predajca</option>
            </select>
          </div>

          <!-- VENDOR (PREDAJCA) BLOCK -->
          <div id="vendorBlock" class="hidden full" aria-hidden="true">
            <label for="meno">Meno a priezvisko</label>
            <input type="text" id="meno" name="meno" />

            <label for="telefon">Telefónne číslo</label>
            <input type="tel" id="telefon" name="telefon" />

            <label for="adresa">Adresa</label>
            <input type="text" id="adresa" name="adresa" />

            <div class="grid">
              <div>
                <label for="psc">PSČ</label>
                <input id="psc" name="psc" type="text" />
              </div>
              <div>
                <label for="datum">Dátum narodenia</label>
                <input id="datum" name="datum" type="date" />
              </div>
            </div>

            <label for="email">Email</label>
            <input id="email" name="email" type="email" />

            <div class="checkbox-inline" style="margin-top:8px;">
              <input type="checkbox" id="zivnostnikPredajca" />
              <label for="zivnostnikPredajca" style="margin:0; font-weight:600;">Som živnostník</label>
            </div>

            <div id="icoDicBlockPredajca" class="hidden" aria-hidden="true" style="margin-top:8px;">
              <div class="grid">
                <div>
                  <label for="ico">IČO</label>
                  <input id="ico" name="ico" type="text" />
                </div>
                <div>
                  <label for="dic">DIČ</label>
                  <input id="dic" name="dic" type="text" />
                </div>
              </div>
            </div>

            <label for="druh_tovaru">Druh ponúkaného tovaru (max. 20 slov)</label>
            <textarea id="druh_tovaru" name="druh_tovaru"></textarea>

            <label for="pozadujem">Požadujem od organizéra</label>
            <textarea id="pozadujem" name="pozadujem"></textarea>

            <label for="donesie">Čo si donesiem (počet kusov, rozmery)</label>
            <textarea id="donesie" name="donesie"></textarea>
          </div>

          <!-- CRAFTSMAN (REMESLENIK) BLOCK -->
          <div id="craftsmanBlock" class="hidden full" aria-hidden="true">
            <label for="meno_r">Meno a priezvisko</label>
            <input type="text" id="meno_r" name="meno_r" />

            <label for="telefon_r">Telefónne číslo</label>
            <input type="tel" id="telefon_r" name="telefon_r" />

            <label for="adresa_r">Adresa</label>
            <input type="text" id="adresa_r" name="adresa_r" />

            <div class="grid">
              <div>
                <label for="psc_r">PSČ</label>
                <input id="psc_r" name="psc_r" type="text" />
              </div>
              <div>
                <label for="datum_r">Dátum narodenia</label>
                <input id="datum_r" name="datum_r" type="date" />
              </div>
            </div>

            <label for="email_r">Email</label>
            <input id="email_r" name="email_r" type="email" />

            <div class="checkbox-inline" style="margin-top:8px;">
              <input type="checkbox" id="zivnostnikRemeselnik" />
              <label for="zivnostnikRemeselnik" style="margin:0; font-weight:600;">Som živnostník</label>
            </div>

            <div id="icoDicBlockRemeselnik" class="hidden" aria-hidden="true" style="margin-top:8px;">
              <div class="grid">
                <div>
                  <label for="ico_r">IČO</label>
                  <input id="ico_r" name="ico_r" type="text" />
                </div>
                <div>
                  <label for="dic_r">DIČ</label>
                  <input id="dic_r" name="dic_r" type="text" />
                </div>
              </div>
            </div>

            <label for="remeslo">Aké remeslo vykonávam (max. 20 slov)</label>
            <textarea id="remeslo" name="remeslo"></textarea>

            <label for="ukazka">Budete robiť ukážku ľudového remesla?</label>
            <select id="ukazka" name="ukazka">
              <option value="">-- vyberte --</option>
              <option value="ano">Áno</option>
              <option value="nie">Nie</option>
            </select>

            <label for="dovod">Uveďte dôvod (ak áno alebo nie)</label>
            <textarea id="dovod" name="dovod"></textarea>

            <label for="pozadujem_r">Požadujem od organizéra</label>
            <textarea id="pozadujem_r" name="pozadujem_r"></textarea>

            <label for="vlastny">Budem mať vlastný...</label>
            <textarea id="vlastny" name="vlastny"></textarea>

            <label for="pocet">Počet kusov a rozmery</label>
            <textarea id="pocet" name="pocet"></textarea>
          </div>

          <div class="full">
            <label for="suhlas">Súhlasím, aby moje osobné údaje boli použité pre potreby obce Bátovce v rámci organizovania kultúrnych podujatí <span class="required-star">*</span></label>
            <select id="suhlas" name="suhlas" required aria-required="true">
              <option value="">-- vyberte --</option>
              <option value="ano">Áno</option>
              <option value="nie">Nie</option>
            </select>
          </div>

          <div>
            <label for="datum_podpis">Dátum</label>
            <input id="datum_podpis" name="datum_podpis" type="date" />
          </div>
          <div>
            <label for="podpis">Podpis</label>
            <input id="podpis" name="podpis" type="text" placeholder="Vaše meno ako podpis" />
          </div>

          <div class="full">
            <p class="disclaimer">Údaje budú použité len na účely organizácie podujatí. Vyplnením formulára súhlasíte so spracovaním osobných údajov.</p>
          </div>

          <div class="full actions">
            <button type="submit" class="primary">Odoslať</button>
            <button type="reset" class="ghost" onclick="resetVisibility()">Vymazať</button>
          </div>
        </div>

        <!-- A small anti-spam honeypot -->
        <input type="text" name="_gotcha" style="display:none" />
        <!-- Optional: customize Formspree subject -->
        <input type="hidden" name="_subject" value="Registračný formulár — Bátovce" />
      </form>
    </main>
  </div>

  <script>
    // preserve original form logic (role toggle + živnostník blocks)
    const role = document.getElementById('role');
    const vendorBlock = document.getElementById('vendorBlock');
    const craftsmanBlock = document.getElementById('craftsmanBlock');
    const zivnostnikPredajca = document.getElementById('zivnostnikPredajca');
    const icoDicBlockPredajca = document.getElementById('icoDicBlockPredajca');
    const zivnostnikRemeselnik = document.getElementById('zivnostnikRemeselnik');
    const icoDicBlockRemeselnik = document.getElementById('icoDicBlockRemeselnik');

    function updateVisibility(){
      if (role.value === 'predajca') {
        vendorBlock.classList.remove('hidden');
        vendorBlock.setAttribute('aria-hidden','false');
        craftsmanBlock.classList.add('hidden');
        craftsmanBlock.setAttribute('aria-hidden','true');
      } else if (role.value === 'remeselnik') {
        craftsmanBlock.classList.remove('hidden');
        craftsmanBlock.setAttribute('aria-hidden','false');
        vendorBlock.classList.add('hidden');
        vendorBlock.setAttribute('aria-hidden','true');
      } else {
        vendorBlock.classList.add('hidden');
        vendorBlock.setAttribute('aria-hidden','true');
        craftsmanBlock.classList.add('hidden');
        craftsmanBlock.setAttribute('aria-hidden','true');
      }
    }

    role.addEventListener('change', updateVisibility);

    zivnostnikPredajca && zivnostnikPredajca.addEventListener('change', () => {
      icoDicBlockPredajca.classList.toggle('hidden', !zivnostnikPredajca.checked);
      icoDicBlockPredajca.setAttribute('aria-hidden', !zivnostnikPredajca.checked);
    });

    zivnostnikRemeselnik && zivnostnikRemeselnik.addEventListener('change', () => {
      icoDicBlockRemeselnik.classList.toggle('hidden', !zivnostnikRemeselnik.checked);
      icoDicBlockRemeselnik.setAttribute('aria-hidden', !zivnostnikRemeselnik.checked);
    });

    function resetVisibility(){
      // hide both blocks on reset
      vendorBlock.classList.add('hidden'); vendorBlock.setAttribute('aria-hidden','true');
      craftsmanBlock.classList.add('hidden'); craftsmanBlock.setAttribute('aria-hidden','true');
      // uncheck živnostník boxes
      if(zivnostnikPredajca) zivnostnikPredajca.checked = false;
      if(zivnostnikRemeselnik) zivnostnikRemeselnik.checked = false;
      if(icoDicBlockPredajca) icoDicBlockPredajca.classList.add('hidden');
      if(icoDicBlockRemeselnik) icoDicBlockRemeselnik.classList.add('hidden');
    }

    // initialize visibility on page load
    document.addEventListener('DOMContentLoaded', updateVisibility);
  </script>
</body>
</html>
